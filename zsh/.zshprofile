# Login shell configuration

# Homebrew setup (macOS only)
if [[ "$OSTYPE" == "darwin"* ]]; then
  if command -v brew >/dev/null 2>&1; then
    eval "$(brew shellenv)"
  elif [[ -x "/opt/homebrew/bin/brew" ]]; then
    eval "$(/opt/homebrew/bin/brew shellenv)"
  fi
fi

# Python environment setup
if command -v pyenv >/dev/null 2>&1; then
  eval "$(pyenv init - zsh)"
  
  # Virtualenvwrapper setup (only if pyenv is available)
  if [[ -n "$PYENV_ROOT" && -d "$PYENV_ROOT" ]]; then
    export VIRTUALENVWRAPPER_VIRTUALENV=$HOME/.pyenv/versions/$(pyenv version-name)/bin/virtualenv
    if [[ -f $(pyenv root)/versions/$(pyenv version-name)/bin/virtualenvwrapper.sh ]]; then
      source $(pyenv root)/versions/$(pyenv version-name)/bin/virtualenvwrapper.sh
    fi
  fi
fi